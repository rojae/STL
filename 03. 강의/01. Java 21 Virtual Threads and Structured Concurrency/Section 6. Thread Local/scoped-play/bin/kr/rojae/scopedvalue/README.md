# Scoped value
- scoped value에 대한 기능은 JDK 20 버전에서 처음 인큐베이팅 되었다. (JEP 429)
- scoped value에 대한 기능은 JDK 21 버전에서 preview 기능으로 변경되었다. (JEP 446)

## 핵심개념
- `ScopedValue`는 `ThreadLocal`과 비슷하지만, 더 안전한 동적 범위 바인딩을 제공합니다.
- `ScopedValue`는 `where(...)`로 값을 바인딩한 코드 블록 내에서만 유효합니다.
- 블록이 끝나면 바인딩은 자동 해제됩니다.

## 참고
- 사용 편의성
    - 데이터 흐름에 대한 추론을 간소화할 수 있도록 스레드 및 하위 스레드와 데이터를 공유하는 프로그래밍 모델을 제공한다.
- 이해 가능성
    - 코드의 구문 구조에서 공유 데이터의 수명을 확인할 수 있다.
- 견고성
    - caller가 공유한 데이터는 호출된 callee에서만 사용할 수 있도록 한다.
- 성능
    - 여러 스레드에 걸쳐서 공유되는 데이터를 변경할 수 없도록(Immutable)하여 런타임 최적화를 가능하게 한다.
    - caller가 호출한 데이터는 callee만 사용이 가능하도록 설계가 가능하다.
- 추가
    - Thread Local 변수의 설계적인 결함을 해결할 수 있다.